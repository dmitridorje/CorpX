# Notification Service

## Описание

Сервис уведомлений централизует обработку и отправку нотификаций для различных микросервисов.  
Обеспечивает гибкую и масштабируемую архитектуру для управления уведомлениями через брокер сообщений и различные каналы доставки, такие как email, Telegram и другие.

## Основные возможности

- Централизованная логика отправки уведомлений.
- Поддержка различных каналов доставки (email, Telegram и другие).
- Простая интеграция новых сервисов и каналов.
- Уведомления по событиям из `UserService`, `PostService`, `ProjectService` и других.
- Масштабируемость через брокер сообщений.

## Преимущества архитектуры

1. **Снижение дублирования логики**: 
   - Отправка уведомлений реализуется в одном месте.
   - Новый канал доставки добавляется только в сервис уведомлений.

2. **Гибкость и расширяемость**:
   - Легкое добавление новых типов уведомлений.
   - Простое подключение новых микросервисов.

3. **Модульность**:
   - Разделение ответственности между сервисами.
   - Меньше зависимостей внутри каждого микросервиса.

4. **Использование брокера сообщений**:
   - Сервисы отправляют события, а `NotificationService` обрабатывает их.
   - Возможность подключения новых потребителей событий (например, для аналитики).

## Технические детали

### Используемые технологии
- **Spring Boot**: основа микросервиса.
- **Redis**: брокер сообщений.
- **spring-boot-starter-mail**: библиотека для отправки email.
- **Telegram Bot API**: интеграция с Telegram.
- Возможность добавления новых каналов (например, Apple Push).

### Основные компоненты
- **Публикация событий**:
  - `SubscriptionPublisher`, `SkillPublisher`, `RecommendPublisher`, `MentorshipPublisher`.
- **Обработчики событий**:
  - `SubscriptionListener`, `SkillListener`, `RecommendListener`, `MentorshipListener`.
- **Билдеры сообщений**:
  - `SubscriptionBuilder`, `SkillBuilder`, `RecommendBuilder`.
- **Сервисы отправки сообщений**:
  - `MailSender` и т.д.

### Архитектура
1. Микросервисы (`UserService`, `PostService`, `ProjectService`) публикуют события через брокер сообщений.
2. `NotificationService` принимает события, обрабатывает их и отправляет уведомления через выбранный канал.
3. Логика отправки централизована в `NotificationService`.

## Пример работы

### Сценарий
1. Пользователь лайкает пост.
2. `PostService` отправляет событие в брокер сообщений.
3. `NotificationService` получает событие, обрабатывает его и отправляет уведомление пользователю.

### Формат события
```json
{
  "eventType": "LIKE",
  "userId": 123,
  "postId": 456,
  "timestamp": "2024-12-07T12:34:56Z"
}

